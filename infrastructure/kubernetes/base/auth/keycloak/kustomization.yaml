# Kustomization for Keycloak
# This file is used by ArgoCD to manage Keycloak deployment
#
# Note: Keycloak is deployed using Helm, so this kustomization
# primarily manages additional resources like secrets and configs
#
# Resources managed here:
# - init-db-configmap.yaml: SQL script for database initialization
# - realm-import-configmap.yaml: QAWave realm configuration for import
# - sealed-secrets.yaml: Encrypted secrets (when created)

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: qawave

labels:
  - pairs:
      app.kubernetes.io/managed-by: kustomize
      app.kubernetes.io/part-of: qawave
    includeSelectors: false

resources:
  # Database initialization script
  - init-db-configmap.yaml
  # Realm configuration for automatic import
  - realm-import-configmap.yaml
  # Sealed secrets (uncomment after creating with kubeseal)
  # - sealed-secrets.yaml

# Common labels for all resources
commonLabels:
  environment: production
