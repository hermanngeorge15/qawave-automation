# ==============================================================================
# QAWave Local Development Configuration
# ==============================================================================
# Copy this file to .env and update values as needed:
#   cp .env.example .env
#
# Required: AI Provider configuration
# Optional: Everything else has sensible defaults
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=qawave
DB_USER=qawave
DB_PASSWORD=qawave_dev_password

# Connection pool settings
DB_POOL_SIZE=10
DB_POOL_MAX_IDLE_TIME=30000

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# ------------------------------------------------------------------------------
# Kafka Configuration
# ------------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=localhost:9094
KAFKA_CONSUMER_GROUP_ID=qawave-local

# Topic names
KAFKA_TOPIC_TEST_RUNS=test-runs
KAFKA_TOPIC_TEST_RESULTS=test-results
KAFKA_TOPIC_NOTIFICATIONS=notifications

# ------------------------------------------------------------------------------
# AI Provider Configuration (REQUIRED)
# ------------------------------------------------------------------------------
# Provider options: openai, anthropic, azure, venice, stub
AI_PROVIDER=openai

# OpenAI Configuration
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=4096

# Anthropic Configuration (if using)
# ANTHROPIC_API_KEY=sk-ant-your-key-here
# ANTHROPIC_MODEL=claude-3-haiku-20240307

# Azure OpenAI Configuration (if using)
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_KEY=your-key
# AZURE_OPENAI_DEPLOYMENT=your-deployment

# Venice AI Configuration (if using)
# VENICE_API_KEY=your-venice-key
# VENICE_MODEL=llama-3.3-70b

# Use 'stub' provider for development without AI calls
# AI_PROVIDER=stub

# ------------------------------------------------------------------------------
# Backend Application
# ------------------------------------------------------------------------------
# Spring profiles (local, dev, prod)
SPRING_PROFILES_ACTIVE=local

# Server configuration
SERVER_PORT=8080
SERVER_CONTEXT_PATH=/api

# Logging
LOG_LEVEL=INFO
LOG_LEVEL_SQL=DEBUG

# JWT Configuration
JWT_SECRET=your-jwt-secret-change-in-production-minimum-32-chars
JWT_EXPIRATION=3600000
JWT_REFRESH_EXPIRATION=86400000

# ------------------------------------------------------------------------------
# Frontend Application
# ------------------------------------------------------------------------------
VITE_API_BASE_URL=http://localhost:8080
VITE_WS_URL=ws://localhost:8080/ws
VITE_AUTH_ENABLED=false

# Feature flags
VITE_FEATURE_DARK_MODE=true
VITE_FEATURE_NOTIFICATIONS=true

# ------------------------------------------------------------------------------
# Keycloak Configuration (optional, for auth testing)
# ------------------------------------------------------------------------------
KEYCLOAK_ENABLED=false
KEYCLOAK_URL=http://localhost:8180
KEYCLOAK_REALM=qawave
KEYCLOAK_CLIENT_ID=qawave-frontend
KEYCLOAK_CLIENT_SECRET=

# ------------------------------------------------------------------------------
# Observability
# ------------------------------------------------------------------------------
# Metrics
METRICS_ENABLED=true
METRICS_PORT=8081

# Tracing (Jaeger/Zipkin)
TRACING_ENABLED=false
TRACING_ENDPOINT=http://localhost:14268/api/traces

# ------------------------------------------------------------------------------
# External Services (optional)
# ------------------------------------------------------------------------------
# GitHub Integration
GITHUB_TOKEN=
GITHUB_WEBHOOK_SECRET=

# Slack Notifications
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#qawave-alerts

# Email (SMTP)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@qawave.io

# ------------------------------------------------------------------------------
# Development Settings
# ------------------------------------------------------------------------------
# Enable detailed error messages
DEBUG_MODE=true

# Disable CORS for local development
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate limiting (requests per minute)
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS=100

# ------------------------------------------------------------------------------
# Test Configuration
# ------------------------------------------------------------------------------
# E2E test settings
E2E_BASE_URL=http://localhost:5173
E2E_API_URL=http://localhost:8080
E2E_TIMEOUT=30000
E2E_HEADLESS=true

# Test database (separate from dev)
TEST_DB_HOST=localhost
TEST_DB_PORT=5433
TEST_DB_NAME=qawave_test
